<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Condo Board Financial Report - 2018-2026</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        :root{
            --bg-gradient: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
            --accent: #667eea;
            --muted: #f8f9fa;
            --text: #333;
            --card-border: rgba(0,0,0,0.06);
            --gap: clamp(12px,2vw,30px);
        }

        /* Reset */
        *{box-sizing:border-box;margin:0;padding:0}

        body{
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-gradient);
            min-height:100vh;
            padding:clamp(12px,3vw,28px);
            color:var(--text);
        }

        .container{
            max-width:1200px;
            margin:0 auto;
            background:#fff;
            border-radius:12px;
            box-shadow:0 12px 40px rgba(0,0,0,0.18);
            overflow:hidden;
        }

        .header{
            background:var(--bg-gradient);
            color:#fff;
            padding:clamp(18px,4vw,36px);
            text-align:center;
        }

        .header h1{font-size:clamp(1.25rem,3.2vw,2.5rem);margin-bottom:8px}
        .header p{font-size:clamp(.9rem,1.6vw,1.05rem);opacity:.95}

        /* Summary (cards) */
        .summary-section{background:var(--muted);padding:clamp(12px,2.5vw,28px);border-top:1px solid var(--card-border)}
        .summary-section h2{color:var(--accent);margin-bottom:clamp(8px,1.5vw,20px);font-size:clamp(1rem,2.2vw,1.4rem)}

        .summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px}
        .summary-card{background:#fff;border-left:4px solid var(--accent);padding:12px;border-radius:6px;box-shadow:0 2px 6px rgba(0,0,0,0.04)}
        .summary-card h3{color:var(--accent);font-size:.85rem;font-weight:600;margin-bottom:6px;text-transform:uppercase;letter-spacing:1px}
        .summary-card .value{font-size:1.25rem;font-weight:700;color:var(--text)}
        .summary-card .change{font-size:.85rem;margin-top:6px;color:#666}

        /* Charts grid - responsive */
        .charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--gap);padding:clamp(12px,2.5vw,30px)}

        /* Make the 'full-width' chart center on large screens by spanning the middle column when available */
        .chart-container.full-width{grid-column:1/-1;max-width:960px;margin:0 auto}

        .chart-container{background:var(--muted);border-radius:8px;padding:14px;box-shadow:0 2px 8px rgba(0,0,0,0.06);display:flex;flex-direction:column}
        .chart-title{font-size:clamp(.88rem,1.1vw,1rem);font-weight:600;color:var(--text);margin-bottom:12px;text-align:center}

        /* Ensure canvas scales nicely while preserving aspect ratio */
        .chart-container canvas{width:100%;height:auto;aspect-ratio:16/9;display:block}

        /* Footer */
        footer{background:var(--muted);padding:12px 16px;text-align:center;color:#666;font-size:.9rem;border-top:1px solid var(--card-border)}

        /* Small adjustments for very small screens */
        @media (max-width:420px){
            .chart-container{padding:10px}
            .summary-card .value{font-size:1.05rem}
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“Š Condo Board Financial Report</h1>
            <p>9-Year Financial Analysis (2018-2026)</p>
        </div>
        
        <div class="summary-section">
            <h2>ðŸ“ˆ Key Metrics</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>2026 Maintenance Fee</h3>
                    <div class="value">$1.10/sqft</div>
                    <div class="change"><span class="positive">+5.77%</span> vs 2025</div>
                </div>
                <div class="summary-card">
                    <h3>2026 Common Expenses</h3>
                    <div class="value">$2,834,060</div>
                    <div class="change"><span class="positive">+5.82%</span> vs 2025</div>
                </div>
                <div class="summary-card">
                    <h3>2026 Reserve Fund Contribution</h3>
                    <div class="value">$1,017,956</div>
                    <div class="change"><span class="positive">+8.29%</span> vs 2025</div>
                </div>
                <div class="summary-card">
                    <h3>9-Year Growth (2018-2026)</h3>
                    <div class="value">+92.98%</div>
                    <div class="change">Maintenance Fee Growth</div>
                </div>
                <div class="summary-card">
                    <h3>Average Annual Increase</h3>
                    <div class="value">+6.50%</div>
                    <div class="change">Historical Average</div>
                </div>
                <div class="summary-card">
                    <h3>Latest Reserve Balance (2025)</h3>
                    <div class="value">$5,452,053</div>
                    <div class="change">Fund Status: Strong</div>
                </div>
            </div>
        </div>
        
        <div class="charts-grid">
            <!-- Chart 1: Maintenance Fee Trend -->
            <div class="chart-container">
                <div class="chart-title">Maintenance Fee per sqft Trend</div>
                <canvas id="maintenanceChart"></canvas>
            </div>
            
            <!-- Chart 5: Year-over-Year Growth -->
            <div class="chart-container">
                <div class="chart-title">Maintenance Fee YoY Growth %</div>
                <canvas id="growthChart"></canvas>
            </div>
            
            <!-- Chart 6: Reserve Fund Balance -->
            <div class="chart-container">
                <div class="chart-title">Closing Reserve Fund Balance</div>
                <canvas id="reserveBalanceChart"></canvas>
            </div>
            
            <!-- Chart 2: Common Expense Contribution -->
            <div class="chart-container">
                <div class="chart-title">Common Expense Contribution</div>
                <canvas id="expenseChart"></canvas>
            </div>
            
            <!-- Chart 4: Financial Overview -->
            <div class="chart-container full-width">
                <div class="chart-title">Budget Allocation</div>
                <canvas id="overviewChart"></canvas>
            </div>
            
            <!-- Chart 3: Reserve Fund vs Expenditures -->
            <div class="chart-container">
                <div class="chart-title">Budget Allocation: Reserve vs Expenditures</div>
                <canvas id="budgetAllocationChart"></canvas>
            </div>
        </div>
        
        <footer>
            <p>Generated from Budget Calendar Data | Report Date: November 2025</p>
        </footer>
    </div>
    
    <script>
        // Chart color scheme
        const primaryColor = 'rgb(102, 126, 234)';
        const secondaryColor = 'rgb(118, 75, 162)';
        const successColor = 'rgb(40, 167, 69)';
        const dangerColor = 'rgb(220, 53, 69)';
        
        // Data
        const years = ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026'];
        const maintenanceFee = [0.57, 0.67, 0.75, 0.85, 0.88, 0.94, 1.00, 1.04, 1.10];
        const commonExpense = [1452367, 1731290, 1923613, 2193695, 2250070, 2405327, 2575619, 2677616, 2834060];
        const reserveFund = [178361, 297888, 497472, 830780, 843227, 855875, 868714, 940375, 1017956];
        const expenditures = [1232280, 1396077, 1500113, 1448719, 1449710, 1620372, 1732463, 1769516, 1849179];
        const otherIncome = [-41726, -37325, 73972, 85804, 42867, 70920, 25558, 32275, 33075];
        const reserveBalance = [null, null, null, null, null, 3464890, 4412465, 5452053, null];
        
        // Chart 1: Maintenance Fee Trend
        new Chart(document.getElementById('maintenanceChart'), {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Maintenance Fee ($/sqft)',
                    data: maintenanceFee,
                    borderColor: primaryColor,
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointRadius: 5,
                    pointBackgroundColor: primaryColor,
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: false, ticks: { callback: v => '$' + v.toFixed(2) } }
                }
            }
        });
        
        // Chart 2: Common Expense Contribution
        new Chart(document.getElementById('expenseChart'), {
            type: 'bar',
            data: {
                labels: years,
                datasets: [{
                    label: 'Common Expense ($)',
                    data: commonExpense,
                    backgroundColor: successColor,
                    borderColor: 'rgba(0,0,0,0.1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, ticks: { callback: v => '$' + (v/1e6).toFixed(1) + 'M' } }
                }
            }
        });
        
        // Chart 3: Reserve Fund vs Expenditures
        new Chart(document.getElementById('budgetAllocationChart'), {
            type: 'bar',
            data: {
                labels: years,
                datasets: [
                    {
                        label: 'To Reserve Fund',
                        data: reserveFund,
                        backgroundColor: 'rgba(255, 127, 14, 0.8)',
                        borderColor: 'rgba(0,0,0,0.1)',
                        borderWidth: 1
                    },
                    {
                        label: 'To Total Expenditures',
                        data: expenditures,
                        backgroundColor: dangerColor,
                        borderColor: 'rgba(0,0,0,0.1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { position: 'bottom' } },
                scales: {
                    y: { stacked: false, ticks: { callback: v => '$' + (v/1e6).toFixed(1) + 'M' } }
                }
            }
        });
        
        // Chart 4: Financial Overview (in millions)
        new Chart(document.getElementById('overviewChart'), {
            type: 'bar',
            data: {
                labels: years,
                datasets: [
                    {
                        label: 'Reserve Fund',
                        data: reserveFund.map(v => v/1e6),
                        backgroundColor: 'rgb(255, 127, 14)',
                        borderColor: 'rgba(0,0,0,0.1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Expenditures',
                        data: expenditures.map(v => v/1e6),
                        backgroundColor: dangerColor,
                        borderColor: 'rgba(0,0,0,0.1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { display: false } },
                scales: {
                    x: { stacked: true },
                    y: { stacked: true, ticks: { callback: v => '$' + v.toFixed(1) + 'M' } }
                }
            }
        });
        
        // Chart 5: YoY Growth
        const yoyGrowth = [];
        for (let i = 1; i < maintenanceFee.length; i++) {
            const growth = ((maintenanceFee[i] - maintenanceFee[i-1]) / maintenanceFee[i-1]) * 100;
            yoyGrowth.push(growth);
        }
        
        new Chart(document.getElementById('growthChart'), {
            type: 'line',
            data: {
                labels: years.slice(1),
                datasets: [{
                    label: 'YoY Growth %',
                    data: yoyGrowth,
                    borderColor: primaryColor,
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointRadius: 5,
                    pointBackgroundColor: primaryColor,
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: { legend: { display: false } },
                scales: { y: { ticks: { callback: v => v.toFixed(1) + '%' } } }
            }
        });
        
        // Chart 6: Reserve Balance
        const balanceYears = ['2023', '2024', '2025'];
        const balanceData = [3464890, 4412465, 5452053];
        
        new Chart(document.getElementById('reserveBalanceChart'), {
            type: 'bar',
            data: {
                labels: balanceYears,
                datasets: [{
                    label: 'Reserve Fund Balance ($)',
                    data: balanceData,
                    backgroundColor: primaryColor,
                    borderColor: 'rgba(0,0,0,0.1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y.toLocaleString('en-US', {maximumFractionDigits: 0});
                            }
                        }
                    }
                },
                scales: { y: { beginAtZero: true, ticks: { callback: v => '$' + (v/1e6).toFixed(1) + 'M' } } }
            }
        });
    </script>
</body>
</html>
